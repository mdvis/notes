`git reset` 是一个强大的 Git 命令，主要用于重置当前 HEAD 到指定的状态。它可以用来撤销提交、移动 HEAD 指针、重置暂存区等。
常用选项的详细介绍：
## 1. `--soft`
- **功能**：`--soft` 选项只会移动 HEAD 指针，不会改变工作目录和暂存区的内容。也就是说，它只是撤销了提交，但被撤销的提交所做的更改仍然保留在暂存区中，你可以再次轻松地重新提交这些更改。 
- **示例**： ```bash # 假设当前 HEAD 指向 commit C，执行以下命令将 HEAD 移动到 commit B git reset --soft HEAD~1 ``` 
- **解释**：上述命令将 HEAD 指针回退一个提交（即 `HEAD~1`），但暂存区和工作目录的内容保持不变。此时，你可以使用 `git commit` 命令再次提交这些更改。
## 2. `--mixed`（默认选项）
- **功能**：`--mixed` 选项会移动 HEAD 指针，并重置暂存区，但不会改变工作目录的内容。这意味着被撤销的提交所做的更改会从暂存区移除，但仍然保留在工作目录中，你需要再次使用 `git add` 命令将这些更改添加到暂存区。 
- **示例**： ```bash # 假设当前 HEAD 指向 commit C，执行以下命令将 HEAD 移动到 commit B git reset --mixed HEAD~1 ``` 
- **解释**：该命令将 HEAD 指针回退一个提交，同时将暂存区重置为 commit B 的状态，但工作目录中的文件不会改变。你可以对工作目录中的文件进行修改后，再使用 `git add` 和 `git commit` 重新提交。 
## 3. `--hard`
- **功能**：`--hard` 选项会移动 HEAD 指针，重置暂存区，并且彻底改变工作目录的内容，使其与指定提交的内容完全一致。这意味着被撤销的提交所做的更改将被永久删除，无法通过 `git commit` 恢复。 
- **示例**： ```bash # 假设当前 HEAD 指向 commit C，执行以下命令将 HEAD 移动到 commit B git reset --hard HEAD~1 ```
- **解释**：此命令将 HEAD 指针回退一个提交，同时将暂存区和工作目录都重置为 commit B 的状态。工作目录中所有未提交的更改都会被丢弃，使用时需谨慎。 
## 4. `--keep`
- **功能**：`--keep` 选项会移动 HEAD 指针，并尝试重置暂存区和工作目录。如果重置过程中不会丢失工作目录中未提交的更改，则会执行重置操作；否则，会终止操作并提示冲突。 
- **示例**： ```bash # 假设当前 HEAD 指向 commit C，执行以下命令将 HEAD 移动到 commit B git reset --keep HEAD~1 ``` 
- **解释**：该命令会尝试将 HEAD 指针回退一个提交，同时保持工作目录中未提交的更改。如果回退过程中会覆盖这些未提交的更改，Git 会终止操作并提示你解决冲突。 
## 5. `--patch`
- **功能**：`--patch` 选项允许你以交互式的方式选择要重置的部分。它会逐块显示文件的更改，让你可以选择是否重置每一块更改。 
- **示例**： ```bash git reset --patch HEAD~1 ``` 
- **解释**：该命令会显示从 `HEAD~1` 到当前 HEAD 之间的所有更改块，你可以根据需要选择是否重置每个更改块。通过按不同的键（如 `y` 表示重置，`n` 表示不重置）来进行选择。‍