领域驱动设计一种软件设计方法，主要用于处理复杂业务。可以分解为 “领域” “驱动” “设计” 三个部分理解。
* 领域：特定业务范围或问题域，如医疗、电商、保险等。确定领域就能明确核心的业务问题。如电商中，核心问题可能涉及商品、库存、仓储、物流；保险中则可能是投保、承保、理赔等。
* 设计：指的是领域模型的设计，领域模型是系统的核心，他反应业务概念和业务规则
* 驱动：
	1. 一是业务问题域驱动领域建模的过程；
	2. 二是领域模型驱动技术实现或代码开发的过程。
	确保领域模型的准确性关键，它保证了代码实现能够真实反应并解决业务的核心问题

领域驱动设计是一种处理高度复杂领域的设计思想，它通过分离技术实现的复杂性，围绕业务概念构建领域模型来控制业务的复杂性，以解决软件难以理解、难以演化的问题。 领域驱动设计是一种设计思想，首先体现了==分离思想==，他分离了==业务复杂性==和==技术复杂性==，其次体现了==分治思想==，它通过==领域模型==、==界限上下文==或==子域==进行分治
## 核心概念
* 统一语言：贯穿领域驱动设计从战略设计到战术设计到最后代码实现的全过程，对需求分析、知识提炼和最后代码实现，都是非常重要的。
* 界限上下文：是连接问题空间和解决方案空间的桥梁，一方面我们在问题空间分析问题时，它是语言的边界和模型的边界；另一方面，在解决方案空间我们通过界限上下文来确定应用的边界和技术的边界，从而帮助我们确定整个系统及各个界限上下文的解决方案
## 设计过程
1.  建立统一语言
2.  分解问题域
3.  链接业务和系统
## 子域
### 核心域
公司的核心竞争力子域（为啥值得写，为啥不买一个，为啥不外包）
### 支撑域
不是核心竞争力，又没有现成方案的子域，不包含通用功能，但又必须
### 通用域
没有太多个性化需求，同时被多个子域使用的通用功能子域。比如认证、权限等（没有太大差异，可以买、外包等）
## 通用语言
### 定义
事件风暴过程中，通过团队交流达成共识的，能够简单、清晰、准确描述业务涵义和规则的语言。限界上下文中的通用语言提供了设计领域模型的概念术语。

通用语言是必须通过与领域专家详细讨论后才得到的统一语言，不管你在团队承担什么角色，在同一领域的软件生命周期里都使用统一语言交流。通用语言定义上下文含义，可解决交流障碍，使领域专家和开发人员能够协作，从而确保业务需求的正确表达。
### 组成
名词：领域对象等命名（实体对象） 形容词：描述概念 动词：可完成的操作（领域事件或命令）
## 界限上下文
限界上下文就是用以确定语义所在的领域边界。就可在统一的领域边界内用统一的语言进行交流。
封装通用语言和领域对象，提供上下文环境，保证在领域之内的一些术语、业务相关对象等（通用语言）无二义性。 这个边界定义了模型的适用范围，使团队所有成员能够明确地知道什么应该在模型中实现，不应该在模型中实现。
**限界上下文是微服务设计和拆分的主要依据**
### 案例
业务的通用语言也有它的业务边界。限界上下文就是用来细分领域，从而定义通用语言所在的边界。
如电商领域的商品，商品在不同阶段有不同术语：
* 销售阶段是商品
* 运输阶段则变成货物
同一个东西，由于业务领域不同，赋予了这些术语不同涵义和职责边界，这个边界就可能会成为未来微服务设计的边界。领域边界就是通过限界上下文来定义的。
## 实体
实体是领域模型中的领域对象。 实体是指描述了领域中唯一的且可持续变化的抽象模型。建模时
* 名词用于给概念命名
* 形容词用于描述概念
* 动词表示可完成操作 实体就是对象的方法和属性实现业务逻辑的类，一般由唯一标识ID和值对象组成，属性影响逻辑和状态
一个实体是唯一的（唯一标识），在一段时间内持续变化（可变性）（标识，延续性）
### 实体的形态
* 业务形态（实体和值对象是组成领域模型的基础单元）
* 代码形态
* 运行形态
* 数据库形态
## 值对象
也是领域对象，尽量使用值对象而非实体建模。
* 值对象度量或描述了领域中的一件东西
* 可作为不变量
* 将不同的相关的属性组合成一个概念整体（Conceptual Whole）
* 当度量和描述改变时，可以用一个值对象予以替换
* 可以和其他值对象进行相等性比较,值对象没有唯一标识，它是通过属性值来判断相等性的
* 不会对协作对象造成副作用
* 属性可替换，不可变
### 理解问题域
业务价值分析（有助评估系统复杂性，指导识别关键业务领域） 业务需求分析（关键知识提炼过程，设计的工具和方法：事件风暴/四色建模/用例分析等） 业务概念模型
### 识别界限上下文
组织边界 业务边界 应用边界
### 模型实现
应用分层架构 微服务架构 应用集成
### 领域建模
领域分析建模 领域设计建模 持续迭代建模

领域：特定的问题域，例如航空领域、电商领域 对象：研究者所关注的客观存在的事物，为了标识对象会给对象归类，为了描述对象会给对象设置属性，例如飞机载重 领域建模：研究者根据问题（也就是需求），确定问题领域，其中的对象、属性、关系以图形的方式进行建模。以便让研究者可以进行充分的分析，更清晰的认识问题域，进而进行合理的设计。

在软件行业，因为需要理解业务领域知识，领域建模是非常有效的方法，目前领域建模是产品经理、需求分析人员、架构师、软件开发工程师的必备技能，这基本是大家的共识。领域建模实在是一个非常重要的基本技能，只要您希望整理庞杂的知识，无论是否和软件相关，都可以采用，它可以帮助您理清知识脉络，简洁的抓住问题的本质。

领域建模的输出是领域模型，领域模型是比自然语言更清晰的描述自然语言的形式，以图形的方式组织各种概念，有助于人对复杂信息的理解，是在具体工作前的有效分析的基础。

从领域模型开始，就开始了面向对象的分析和设计过程，领域模型是完成从需求分析到面向对象设计的一座桥梁。

领域模型就是显示最重要的业务概念和他们之间的关系，是真实世界各个事物的表示（现实世界的可视化抽象字典），而不是软件中各构件的表示（类：表示业务概念，通常只包含重要属性，少甚至不包含操作；关联、泛化：表达概念之间的关系）。

领域模型是描述业务领域（业务实体）的静态结构。

* 理论派
    * Domain Model是一个商业建模范畴概念，即使一个企业不开发软件，也具备其业务模型；
    * 所有同行企业，其业务模型必定有非常大的共性和内在的规律性。
    * 由行业内的各个企业的业务模型再向上抽象出整个行业的业务模型，这个模型称之为“领域模型”。

领域模型是一种特殊的业务模型，它分析范围是整个行业，抽象出行业里共性和内在规律性的业务，比业务模型更加抽象，它不属于软件开发范畴的概念，与软件开发无关。

* 实战派
    * 领域模型是一个分析模型，帮助系统分析人员、用户认识现实业务的工具，描述的是业务中涉及到的实体及其相互之间的关系，它是需求分析的产物，与问题域相关。
    * 是需求分析人员与用户交流的有力工具，是彼此交流的语言。

领域模型是一种分析模型，在软件开发过程分析阶段用于分析如何满足系统功能性需求，属于软件开发范畴，在UML中主要使用类图来描述领域模型。

业务模型是业务建模的输出物，业务建模研究的对象是公司或者组织，业务建模属于软件开发过程中的初始阶段。 软件开发过程：业务建模、需求、分析、设计。在软件开发过程中我们接触到的领域模型属于**实战派**。 从这个定义我们可以看出,领域模型有两个主要的作用:
1. 发掘重要的业务领域概念
2. 建立业务领域概念之间的关系
### 如何建模
建模的方法就是从用例中找名词
* 发现类和对象：通过概念类分类列表和名词性短语，尽可能多的找出概念类
    * 概念分类列表： 人、事物、地点、组织、概念、事件、规则、抽象名词、交易项目、角色、设备、组织结构（对用例进行识别：实体、过程中的信息、角色的输入输出、操作设备等）
    * 名词分析法： 识别问题域和用例描述中的名词和名词性短语作为候选的概念类和属性，从后选项中，摒弃多余的名词，确定最终的对象（注意是作为类还是属性，类可以是一种标识、状态和行为）
* 建立类之间的关联（关联、继承、依赖）
    * 关联： 类之间的某种语义关系包括聚合、组合
    * 继承：一般到特殊
    * 依赖：表明一个元素（源元素）的定义或实现依赖另一个元素（被依赖元素）的定义或实现
* 添加类的重要属性（类的语义完整性、类的作用、问题域相关特性等）
    * 语法
    * 属性类型是简单的数据类型为佳，如果是复杂概念，考虑是否单独作为一个概念类
    * 任何属性都不表示外键，既不应该用属性来联系概念类，区别与数据库中的外键
### 实例
用例：
1. 管理员 创建了 北京 和 上海 两个校区
2. 管理员 创建了 Linux \\ Python \\ Go 3个课程
3. 管理员 创建了 北京校区的Python 16期， Go开发第一期，和上海校区的Linux 36期 班级
4. 管理员 创建了 北京校区的 学员 小晴 ，并将其 分配 在了 班级  python 16期
5. 管理员 创建了 讲师 Alex , 并将其分配 给了 班级 python 16期 和全栈脱产5期
6. 讲师 Alex 创建 了一条 python 16期的 上课纪录 Day6
7. 讲师 Alex 为Day6这节课 所有的学员 批了作业 ，小晴得了A, 李磊得了C-, 严帅得了B
8. 学员小晴 在 python 16 的 day6里 提交了作业
9. 学员李磊 查看了自己所报的所有课程
10. 学员 李磊  在 查看了 自己在 py16期 的 成绩列表 ，然后自杀了
11. 学员小晴  跟 讲师 Alex 表白了
#### 找名词
名词列表： 管理员、校区、课程、班级、上课纪录、作业、成绩、讲师、学员
#### 加属性

| 名词   | 属性                        | 备注                |
| ---- | ------------------------- | ----------------- |
| 管理员  |                           | 所有后台管理功能，无需特别用户属性 |
| 校区   | 开设课程 班级 讲师列表 学生列表 学校名称 地址 |                   |
| 课程   | 课程名称 周期 价格 大纲             |                   |
| 班级   | 学期 开课日期 讲师 学员列表           |                   |
| 上课记录 | 所属班级 课程节次 上课日期            |                   |
| 作业   | 作业提交时间 作业评语 作业成绩          |                   |
| 成绩   | 每节课的作业成绩                  |                   |
| 讲师   | 姓名 关联班级                   |                   |
| 学员   | 姓名 年龄 所报的班级               |                   |
#### 连关系
有了类和属性，找出关系